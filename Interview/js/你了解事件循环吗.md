### 你了解事件循环吗？
事件循环可以说是游览器执行代码、收集、和处理事件以及执行队列中子任务的一个过程。
JS中的任务队列有宏任务与微任务之分，其中：
>宏任务主要包含：script(整体代码)、setTimeout、setInterval、I/O、UI交互事件等
>微任务只要包含：Promise.then、MutaionObserver、process.nextTick等
**它们的运行机制关键步骤**：

+ 首先执行一个宏任务
+ 执行过程中遇到微任务，将微任务添加到微任务队列中，遇到宏任务，将其放入宏任务队列中
+ 当前宏任务执行完毕后，立即执行微任务队列，微任务执行过程中，如果遇到宏任务，将其放入宏任务队列，如果碰到微任务，也将其放入微任务队列中，直到微任务全部执行完毕
+ 判断是否需要渲染，如果需要渲染GUI线程接管渲染
+ 渲染完毕后，JS线程继续执行下一个宏任务

**小结**
> 在当前运行环境中，微任务总是先于宏任务执行，因为微任务是在本次渲染前执行，无需等待渲染
