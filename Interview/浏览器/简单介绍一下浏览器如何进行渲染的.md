### 简单介绍一下浏览器如何进行渲染的

+ 首先解析收到的文档，根据文档定义构建一棵 DOM 树，DOM 树是由 DOM 元素及属性节点组成的。

+ 然后进行 样式计算
    + 把 CSS 转换为浏览器能够理解的结构 (styleSheets -> document.styleSheets)
    + 转换样式表中的属性值，使其标准化
    + 计算出 DOM 树中每个节点的具体样式 (CSS 的继承规则和层叠规则)
    
+ 创建布局树，布局阶段，DOM 树和 CSSOM 树并不包含DOM元素的几何位置
    + 只包含可见元素
    + 布局计算
  
+ 分层，创建对应的图层树
    + 对应特定的节点，比如z-index,3D变化等等，浏览器会为其生成特定图层
    + 层叠上下文属性、需要裁剪的地方也会生成单独的图层

+ 图层绘制，也就是准备绘制指令列表
  
+ 栅格化操作
  > 实际的绘制操作是由渲染引擎的合成线程来完成的，主线程会把绘制指令提交给合成线程
    + 根据视图窗口，先将图层分为图块
    + 合成线程会按照视口附近的图块来优先生成 位图 输出到GPU中
  
+ 合成显示
  > 一旦所有图块都被栅格化，合成进程就会发送绘制图块命令DrawQuad给到浏览器进程,浏览器进程根据 DrawQuad 消息生成页面，并显示到显示器上
  